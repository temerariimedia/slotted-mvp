{"version":3,"file":"campaign-generator-Disw7MEQ.js","sources":["../../src/services/campaigns/campaign-generator.ts"],"sourcesContent":["import { z } from 'zod'\nimport type { CompanyDNA } from '../ai/modern-ai-orchestrator'\n\n// Campaign topic schema\nexport const CampaignTopicSchema = z.object({\n  week: z.number().min(1).max(52),\n  title: z.string(),\n  description: z.string(),\n  theme: z.string(),\n  primaryChannel: z.string(),\n  secondaryChannels: z.array(z.string()),\n  contentTypes: z.array(z.enum(['blog', 'video', 'social', 'email', 'infographic', 'case-study'])),\n  keywords: z.array(z.string()),\n  callToAction: z.string(),\n  estimatedEffort: z.number().min(1).max(10),\n  businessGoal: z.enum(['awareness', 'engagement', 'leads', 'sales', 'retention']),\n  seasonalRelevance: z.string().optional(),\n  competitorAnalysis: z.string().optional(),\n})\n\nexport type CampaignTopic = z.infer<typeof CampaignTopicSchema>\n\n// Marketing calendar schema\nexport const MarketingCalendarSchema = z.object({\n  companyName: z.string(),\n  period: z.object({\n    startDate: z.string(),\n    endDate: z.string(),\n    weeks: z.number(),\n  }),\n  strategy: z.object({\n    overallTheme: z.string(),\n    quarterlyFocus: z.array(z.string()),\n    keyMetrics: z.array(z.string()),\n    budget: z.string().optional(),\n  }),\n  campaigns: z.array(CampaignTopicSchema),\n  channelStrategy: z.object({\n    primary: z.array(z.string()),\n    secondary: z.array(z.string()),\n    experimental: z.array(z.string()),\n    distribution: z.record(z.number()),\n  }),\n  contentCalendar: z.object({\n    sunday: z.array(z.string()),\n    monday: z.array(z.string()),\n    tuesday: z.array(z.string()),\n    wednesday: z.array(z.string()),\n    thursday: z.array(z.string()),\n    friday: z.array(z.string()),\n    saturday: z.array(z.string()),\n  }),\n  kpiTracking: z.object({\n    metrics: z.array(z.object({\n      name: z.string(),\n      target: z.number(),\n      measurement: z.string(),\n    })),\n    reportingSchedule: z.string(),\n  }),\n  generatedAt: z.string(),\n  version: z.string(),\n})\n\nexport type MarketingCalendar = z.infer<typeof MarketingCalendarSchema>\n\n// Advanced campaign generation with AI\nexport class AdvancedCampaignGenerator {\n  private aiOrchestrator: any\n\n  constructor(aiOrchestrator: any) {\n    this.aiOrchestrator = aiOrchestrator\n  }\n\n  /**\n   * Generate comprehensive 13-week marketing calendar\n   */\n  public async generateMarketingCalendar(options: {\n    companyDNA: CompanyDNA\n    weeks?: number\n    startDate?: Date\n    focusAreas?: string[]\n    budget?: string\n  }): Promise<MarketingCalendar> {\n    const weeks = options.weeks || 13\n    const startDate = options.startDate || new Date()\n    const endDate = new Date(startDate)\n    endDate.setDate(startDate.getDate() + (weeks * 7))\n\n    console.log(`üìÖ Generating ${weeks}-week marketing calendar for ${options.companyDNA.company.name}`)\n\n    try {\n      // Generate campaign topics using AI\n      const campaigns = await this.generateCampaignTopics(options.companyDNA, weeks, options.focusAreas)\n      \n      // Create strategic framework\n      const strategy = await this.generateStrategy(options.companyDNA, campaigns, options.budget)\n      \n      // Create channel strategy\n      const channelStrategy = this.createChannelStrategy(options.companyDNA, campaigns)\n      \n      // Generate content calendar (Sunday-Saturday posting pattern)\n      const contentCalendar = this.generateContentCalendar(campaigns, options.companyDNA)\n      \n      // Set up KPI tracking\n      const kpiTracking = this.setupKPITracking(options.companyDNA, campaigns)\n\n      const calendar: MarketingCalendar = {\n        companyName: options.companyDNA.company.name,\n        period: {\n          startDate: startDate.toISOString(),\n          endDate: endDate.toISOString(),\n          weeks,\n        },\n        strategy,\n        campaigns,\n        channelStrategy,\n        contentCalendar,\n        kpiTracking,\n        generatedAt: new Date().toISOString(),\n        version: '2.0.0',\n      }\n\n      return MarketingCalendarSchema.parse(calendar)\n    } catch (error) {\n      console.error('‚ùå Marketing calendar generation failed:', error)\n      throw new Error(`Failed to generate marketing calendar: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  /**\n   * Generate strategic campaign topics using AI\n   */\n  private async generateCampaignTopics(\n    companyDNA: CompanyDNA, \n    weeks: number, \n    focusAreas?: string[]\n  ): Promise<CampaignTopic[]> {\n    const prompt = this.buildCampaignPrompt(companyDNA, weeks, focusAreas)\n    \n    const response = await this.aiOrchestrator.generateContent({\n      type: 'campaign-topics',\n      customInstructions: prompt,\n    })\n\n    return this.parseCampaignTopics(response.content, weeks, companyDNA)\n  }\n\n  /**\n   * Build comprehensive campaign generation prompt\n   */\n  private buildCampaignPrompt(companyDNA: CompanyDNA, weeks: number, focusAreas?: string[]): string {\n    const { company, brandDNA, marketingInsights } = companyDNA\n\n    return `\nGenerate exactly ${weeks} strategic marketing campaign topics for ${company.name}.\n\nCOMPANY CONTEXT:\n- Industry: ${company.industry}\n- Size: ${company.size}\n- Value Propositions: ${brandDNA.valuePropositions.join(', ')}\n- Target Audience: ${brandDNA.targetAudience.demographics}\n- Pain Points: ${brandDNA.targetAudience.painPoints.join(', ')}\n- Brand Voice: ${brandDNA.brandVoice.personality.join(', ')} - ${brandDNA.brandVoice.tone}\n\nMARKETING STRATEGY:\n- Competitive Advantage: ${marketingInsights.competitiveAdvantage}\n- Market Position: ${marketingInsights.marketPosition}\n- Recommended Channels: ${marketingInsights.recommendedChannels.join(', ')}\n\n${focusAreas ? `FOCUS AREAS: ${focusAreas.join(', ')}` : ''}\n\nREQUIREMENTS:\n1. Create a narrative arc across all ${weeks} weeks\n2. Balance awareness, engagement, lead generation, and retention goals\n3. Include seasonal and timely opportunities\n4. Vary content types and channels strategically\n5. Build momentum toward business objectives\n6. Consider the target audience's journey and pain points\n\nOUTPUT FORMAT:\nReturn as JSON array with this exact structure:\n[\n  {\n    \"week\": 1,\n    \"title\": \"Campaign Title\",\n    \"description\": \"Detailed description of campaign focus and objectives\",\n    \"theme\": \"Overarching theme (e.g., Education, Problem-Solution, Social Proof)\",\n    \"primaryChannel\": \"Blog\",\n    \"secondaryChannels\": [\"LinkedIn\", \"Email\"],\n    \"contentTypes\": [\"blog\", \"social\", \"email\"],\n    \"keywords\": [\"keyword1\", \"keyword2\", \"keyword3\"],\n    \"callToAction\": \"Specific CTA for this campaign\",\n    \"estimatedEffort\": 7,\n    \"businessGoal\": \"awareness\",\n    \"seasonalRelevance\": \"Optional seasonal context\",\n    \"competitorAnalysis\": \"How this differentiates from competitors\"\n  }\n]\n\nEnsure each campaign builds logically on previous ones and addresses different aspects of the customer journey.\n`\n  }\n\n  /**\n   * Parse AI response into structured campaign topics\n   */\n  private parseCampaignTopics(response: string, weeks: number, companyDNA: CompanyDNA): CampaignTopic[] {\n    try {\n      const parsed = JSON.parse(response)\n      if (Array.isArray(parsed) && parsed.length >= weeks) {\n        return parsed.slice(0, weeks).map((topic, index) => ({\n          ...topic,\n          week: index + 1,\n        }))\n      }\n    } catch (error) {\n      console.warn('Failed to parse AI response, generating fallback topics')\n    }\n\n    // Fallback topics based on company DNA\n    return this.generateFallbackTopics(weeks, companyDNA)\n  }\n\n  /**\n   * Generate fallback campaign topics\n   */\n  private generateFallbackTopics(weeks: number, companyDNA: CompanyDNA): CampaignTopic[] {\n    const { company, brandDNA, marketingInsights } = companyDNA\n    \n    const baseTopics = [\n      {\n        title: `Introducing ${company.name}: Our Mission and Vision`,\n        theme: 'Brand Introduction',\n        businessGoal: 'awareness' as const,\n      },\n      {\n        title: `Understanding ${brandDNA.targetAudience.demographics}: Pain Points and Solutions`,\n        theme: 'Problem Identification',\n        businessGoal: 'awareness' as const,\n      },\n      {\n        title: `${brandDNA.valuePropositions[0] || 'Our Core Value'}: Deep Dive`,\n        theme: 'Value Proposition',\n        businessGoal: 'engagement' as const,\n      },\n      {\n        title: `Industry Insights: ${company.industry} Trends and Opportunities`,\n        theme: 'Thought Leadership',\n        businessGoal: 'engagement' as const,\n      },\n      {\n        title: 'Behind the Scenes: How We Work',\n        theme: 'Transparency',\n        businessGoal: 'engagement' as const,\n      },\n      {\n        title: 'Customer Success Stories and Case Studies',\n        theme: 'Social Proof',\n        businessGoal: 'leads' as const,\n      },\n      {\n        title: `${marketingInsights.competitiveAdvantage}: What Sets Us Apart`,\n        theme: 'Differentiation',\n        businessGoal: 'leads' as const,\n      },\n      {\n        title: 'Expert Tips and Best Practices',\n        theme: 'Education',\n        businessGoal: 'engagement' as const,\n      },\n      {\n        title: 'Community Spotlight and User-Generated Content',\n        theme: 'Community Building',\n        businessGoal: 'retention' as const,\n      },\n      {\n        title: 'Product Updates and New Features',\n        theme: 'Product Marketing',\n        businessGoal: 'retention' as const,\n      },\n      {\n        title: 'Data-Driven Insights and Research',\n        theme: 'Thought Leadership',\n        businessGoal: 'engagement' as const,\n      },\n      {\n        title: 'Future Vision and Roadmap',\n        theme: 'Innovation',\n        businessGoal: 'engagement' as const,\n      },\n      {\n        title: 'Year in Review and Looking Ahead',\n        theme: 'Reflection',\n        businessGoal: 'retention' as const,\n      },\n    ]\n\n    return Array.from({ length: weeks }, (_, index) => {\n      const baseTopic = baseTopics[index] || baseTopics[index % baseTopics.length]\n      \n      return {\n        week: index + 1,\n        title: baseTopic.title,\n        description: `Strategic campaign for week ${index + 1} focusing on ${baseTopic.theme.toLowerCase()}`,\n        theme: baseTopic.theme,\n        primaryChannel: marketingInsights.recommendedChannels[0] || 'Blog',\n        secondaryChannels: marketingInsights.recommendedChannels.slice(1, 3) || ['Social Media'],\n        contentTypes: ['blog', 'social'] as const,\n        keywords: [`${company.name}`, company.industry.toLowerCase(), brandDNA.valuePropositions[0]?.toLowerCase().split(' ')[0] || 'business'].filter(Boolean),\n        callToAction: index % 4 === 0 ? 'Contact Us' : index % 4 === 1 ? 'Learn More' : index % 4 === 2 ? 'Get Started' : 'Download Now',\n        estimatedEffort: Math.floor(Math.random() * 3) + 5, // 5-7 effort\n        businessGoal: baseTopic.businessGoal,\n        seasonalRelevance: index % 6 === 0 ? 'Consider current season and holidays' : undefined,\n      }\n    })\n  }\n\n  /**\n   * Generate overall marketing strategy\n   */\n  private async generateStrategy(companyDNA: CompanyDNA, campaigns: CampaignTopic[], budget?: string): Promise<any> {\n    const themes = [...new Set(campaigns.map(c => c.theme))]\n    const goals = [...new Set(campaigns.map(c => c.businessGoal))]\n\n    return {\n      overallTheme: `Strategic ${companyDNA.company.industry} Marketing: ${companyDNA.marketingInsights.marketPosition}`,\n      quarterlyFocus: themes.slice(0, 3),\n      keyMetrics: [\n        'Brand Awareness (Reach & Impressions)',\n        'Engagement Rate (Likes, Comments, Shares)',\n        'Lead Generation (Form Submissions, Downloads)',\n        'Website Traffic (Sessions, Page Views)',\n        'Conversion Rate (Trial-to-Paid, Contact-to-Sale)',\n      ],\n      budget: budget || 'To be determined based on channel performance',\n    }\n  }\n\n  /**\n   * Create channel distribution strategy\n   */\n  private createChannelStrategy(companyDNA: CompanyDNA, campaigns: CampaignTopic[]): any {\n    const { marketingInsights } = companyDNA\n    const channelUsage = new Map<string, number>()\n\n    // Count channel usage across campaigns\n    campaigns.forEach(campaign => {\n      channelUsage.set(campaign.primaryChannel, (channelUsage.get(campaign.primaryChannel) || 0) + 2)\n      campaign.secondaryChannels.forEach(channel => {\n        channelUsage.set(channel, (channelUsage.get(channel) || 0) + 1)\n      })\n    })\n\n    return {\n      primary: marketingInsights.recommendedChannels.slice(0, 2),\n      secondary: marketingInsights.recommendedChannels.slice(2, 5),\n      experimental: ['TikTok', 'Podcast', 'YouTube Shorts'],\n      distribution: Object.fromEntries(channelUsage),\n    }\n  }\n\n  /**\n   * Generate Sunday-Saturday content calendar\n   */\n  private generateContentCalendar(campaigns: CampaignTopic[], companyDNA: CompanyDNA): any {\n    // Sunday-Saturday posting pattern as specified\n    return {\n      sunday: ['Newsletter Planning', 'Week Prep'],\n      monday: ['Blog Post Release', 'Industry News'],\n      tuesday: ['Social Media Push', 'Community Engagement'],\n      wednesday: ['Educational Content', 'Behind the Scenes'],\n      thursday: ['Case Studies', 'Customer Spotlights'],\n      friday: ['Product Updates', 'Team Highlights'],\n      saturday: ['User-Generated Content', 'Community Features'],\n    }\n  }\n\n  /**\n   * Set up KPI tracking framework\n   */\n  private setupKPITracking(companyDNA: CompanyDNA, campaigns: CampaignTopic[]): any {\n    const businessGoals = [...new Set(campaigns.map(c => c.businessGoal))]\n\n    const metrics = businessGoals.map(goal => {\n      switch (goal) {\n        case 'awareness':\n          return { name: 'Brand Awareness', target: 10000, measurement: 'Monthly Reach' }\n        case 'engagement':\n          return { name: 'Engagement Rate', target: 5, measurement: 'Percentage' }\n        case 'leads':\n          return { name: 'Lead Generation', target: 100, measurement: 'Monthly Leads' }\n        case 'sales':\n          return { name: 'Conversion Rate', target: 2, measurement: 'Percentage' }\n        case 'retention':\n          return { name: 'Customer Retention', target: 85, measurement: 'Percentage' }\n        default:\n          return { name: 'Website Traffic', target: 5000, measurement: 'Monthly Sessions' }\n      }\n    })\n\n    return {\n      metrics,\n      reportingSchedule: 'Weekly reviews on Fridays, Monthly deep dives on first Monday',\n    }\n  }\n\n  /**\n   * Export calendar to Google Sheets format\n   */\n  public exportToGoogleSheets(calendar: MarketingCalendar): any {\n    const sheets = {\n      'Campaign Overview': [\n        ['Week', 'Campaign Title', 'Theme', 'Primary Channel', 'Business Goal', 'Effort', 'Status'],\n        ...calendar.campaigns.map(campaign => [\n          campaign.week,\n          campaign.title,\n          campaign.theme,\n          campaign.primaryChannel,\n          campaign.businessGoal,\n          campaign.estimatedEffort,\n          'Planned'\n        ])\n      ],\n      'Content Calendar': [\n        ['Week', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n        ...calendar.campaigns.map(campaign => [\n          `Week ${campaign.week}`,\n          campaign.contentTypes.includes('blog') ? campaign.title : '',\n          campaign.contentTypes.includes('social') ? 'Social Push' : '',\n          'Educational Content',\n          'Case Study/Customer Focus',\n          'Product/Team Updates',\n          'Community Content',\n          'Week Planning'\n        ])\n      ],\n      'KPI Tracking': [\n        ['Metric', 'Target', 'Current', 'Progress %', 'Notes'],\n        ...calendar.kpiTracking.metrics.map(metric => [\n          metric.name,\n          metric.target,\n          0, // Current value to be filled in\n          0, // Progress percentage\n          'Track weekly'\n        ])\n      ],\n      'Channel Strategy': [\n        ['Channel', 'Type', 'Usage Count', 'Content Types'],\n        ...Object.entries(calendar.channelStrategy.distribution).map(([channel, count]) => [\n          channel,\n          calendar.channelStrategy.primary.includes(channel) ? 'Primary' : 'Secondary',\n          count,\n          'Blog, Social, Email'\n        ])\n      ]\n    }\n\n    return sheets\n  }\n}\n\n// Export the service\nexport const campaignGenerator = new AdvancedCampaignGenerator(null) // Will be injected when needed"],"names":["CampaignTopicSchema","z.object","z.number","z.string","z.array","z.enum","MarketingCalendarSchema","z.record","AdvancedCampaignGenerator","aiOrchestrator","__publicField","options","weeks","startDate","endDate","campaigns","strategy","channelStrategy","contentCalendar","kpiTracking","calendar","error","companyDNA","focusAreas","prompt","response","company","brandDNA","marketingInsights","parsed","topic","index","baseTopics","_","baseTopic","_a","budget","themes","c","channelUsage","campaign","channel","goal","metric","count"],"mappings":"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"}